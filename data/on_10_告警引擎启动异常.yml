status: "告警引擎启动异常"
describe: "点击告警引擎 启动/重启，未启动成功，任务启动5分钟后failed"
priority: 10
display: true
version: "-"
checklist: 
  - refer: "yarn节点异常"
  - refer: "kafka节点异常"
  - refer: "集群多台机器部署"
###TODO
  - status: "引擎任务提交失败"
    describe: "查看流任务提交日志，出现 hdfs safemode"
    priority: 9
    version: "-"
    todo: "登录nodemanager/datanode相关节点，执行safemode退出命令，hdfs dfsadmin -safemode leave"
###TODO
  - status: "fullLinkSync算子报错导致引擎异常"
    describe: "界面点击告警分析引擎详情,查看rootException报错出现\"fullLinkSync\"相关的报错"
    priority: 6
    version: "-"
    todo: |
       1.flink监控，告警分析引擎检查fullLinkSync这条流对应的kafkasink配置的地址是否能正常联通。
       2. 检查baasweb容器中：docker exec -ti 1-baas-1 bash，检查/usr/hdp/2.5.3.0-37/baas/baasweb/input目录下zh_CN目录下是否有规则相关文件。有就重启一下baas：docker restart 1-baas-1,没有需要上传与界面版本一致的规则包到该目录下解压之后重启baas。
       3. 重启流任务。
    gif_links:
      - http://10.50.1.141/release/%e9%a3%9e%e6%a2%ad%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%8f%b0/%e6%93%8d%e4%bd%9c%e6%8c%87%e5%bc%95/%e6%b5%81%e4%bb%bb%e5%8a%a1%e7%9b%b8%e5%85%b3/%e6%b5%81%e4%bb%bb%e5%8a%a1%e9%87%8d%e5%90%af%e6%9f%a5%e7%9c%8brootException.gif
###TODO
  - status: "kafka topic存在异常"
    describe: "1. 流计算任务日志中有kafka topic相关错误，可查看的关键字有dead、Exception、ERROR. /n 2.登录飞梭平台kafka监控页面，查看kafka topic详情，出现leader=-1或isr为null的情况 "
    priority: 8
    version: "-"
    todo: "通过kafka监控页面重建异常topic"  

###TODO
  - status: "kafka 集群存在异常"
    describe: "1. 流计算任务日志中有kafka topic相关错误，可查看的关键字有dead、Exception、ERROR. /n 2.后台消费kafka命令，出现 错误"
    priority: 8
    version: "-"
    todo: |
       1. 5.2 之前版本，使用 tools/下面delete相关脚本重建kafka topic，删除之后，重启baas重建topic。
       2. 5.2之后，运维管理界面，kafka监控--topic监控页面，点击重建内置topic。
       3. nodemager/datanode相关节点，容器中ping一下kafka是否通或者telnet kafka直接的端口 如：telnet 1.kafka1 9092 或telnet 1.1.1.1 19091。
    gif_links:
        - http://10.50.1.141/release/%e9%a3%9e%e6%a2%ad%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%8f%b0/%e6%93%8d%e4%bd%9c%e6%8c%87%e5%bc%95/%e6%b5%81%e4%bb%bb%e5%8a%a1%e7%9b%b8%e5%85%b3/%e7%95%8c%e9%9d%a2%e4%b8%8b%e8%bd%bd%e6%b5%81%e8%ae%a1%e7%ae%97%e4%bb%bb%e5%8a%a1%e6%97%a5%e5%bf%97&%e9%94%99%e8%af%af%e4%bf%a1%e6%81%af%e6%a3%80%e7%b4%a2.gif
  - status: "流任务启动时提示错误信息-资源不足"
    describe: "点击日志/告警引擎 启动/重启，提示流任务资源不足或流计算日志中出现资源不足相关错误"
    priority: 6
    version: "BaaS-v4.14+"
    todo: "运维账号登录flink监控页面，修改引擎slots数目，引擎最大并发数除以引擎槽位数得到实际占用的taskmanager节点数，申请的taskmanager个数之和要小于实际 yarn节点个数"
    gif_links: 
      - "http://10.50.1.141/release/%e9%a3%9e%e6%a2%ad%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%8f%b0/%e6%93%8d%e4%bd%9c%e6%8c%87%e5%bc%95/%e6%b5%81%e4%bb%bb%e5%8a%a1%e7%9b%b8%e5%85%b3/%e6%b5%81%e4%bb%bb%e5%8a%a1%e5%90%af%e5%8a%a8%e5%a4%b1%e8%b4%a5-%e8%bf%90%e8%a1%8c%e9%85%8d%e7%bd%ae%e7%a1%ae%e8%ae%a4.gif"

  - status: "baasweb、baasflink程序版本不一致"
    describe: "关于 页面查看 BaaS引擎版本：baasweb版本（flink版本），判断是否一致"
    priority: 3
    version: "BaaS-v4.9+"
    todo: "飞梭数据中台-升级管理，baasweb、baasflink程序包升级，版本保持一致"

  - status: "引擎运行参数设置错误，默认配置错误"
    describe: "运维账号登录flink监控页面，计算每个引擎最大并发数除以引擎槽位数得到实际占用的taskmanager节点数，申请的taskmanager个数之和要小于实际 yarn节点个数"
    priority: 7
    version: "-"
    todo: "运维账号登录flink监控页面，修改引擎slots数目，引擎最大并发数除以引擎槽位数得到实际占用的taskmanager节点数，申请的taskmanager个数之和要小于实际 yarn节点个数"
    gif_links: 
      - "http://10.50.1.141/release/%e9%a3%9e%e6%a2%ad%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%8f%b0/%e6%93%8d%e4%bd%9c%e6%8c%87%e5%bc%95/%e6%b5%81%e4%bb%bb%e5%8a%a1%e7%9b%b8%e5%85%b3/%e6%b5%81%e4%bb%bb%e5%8a%a1%e5%90%af%e5%8a%a8%e5%a4%b1%e8%b4%a5-%e8%bf%90%e8%a1%8c%e9%85%8d%e7%bd%ae%e7%a1%ae%e8%ae%a4.gif"

###TODO
  - status: "探针发送数据使用lz4压缩"
    describe: "1. 查看流任务日志出现lz4报错  2.探针 发送配置查看 压缩方式为lz4"
    priority: 2
    version: "-"
    todo: "探针发送配置修改压缩方式为snappy"
